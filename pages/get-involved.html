<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Get Involved | Nasharie Writes</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="../images/favicon.png" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Poppins&display=swap" rel="stylesheet">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="../css/get-involved.css" />
</head>
<body>

<header class="header">
  <a href="../index.html">
    <img src="../images/blanklogo.png" alt="Nasharie Writes Logo" class="header-logo">
  </a>

  <nav class="nav-container">
    <ul>
      <li><a href="../index.html">Home</a></li>

      <li class="dropdown">
        <a href="#" onclick="return false;">Works <span class="arrow">▼</span></a>
        <ul class="dropdown-menu">
          <li><a href="../pages/transfer-student.html">The Transfer Student</a></li>
          <li><a href="../pages/works.html#short-stories">Short Stories</a></li>
          <li><a href="../pages/works.html#blog-posts">Blog Posts</a></li>
        </ul>
      </li>

      <li><a href="../pages/get-involved.html">Get Involved</a></li>
      <li><a href="../pages/news.html">News</a></li>
      <li><a href="../pages/support-for-students.html">Support for Students</a></li>
      <li><a href="../pages/contact.html">Contact</a></li>
    </ul>
  </nav>
</header>

<section class="intro-section">
  <div class="intro-container">
    <h1 class="intro-title">Get Involved</h1>
    <p class="intro-text">
      In <em>The Transfer Student</em>, teachers are powerful forces for change — shaping not just classrooms, but futures. 
      Whether you graduated years ago or are just starting your educational journey, if a teacher made an impact on your life, we invite you to honor them here. 
      Share a thank you message and where you went to school. Your story will appear on our live gratitude map, inspiring others to celebrate the power of education.
    </p>
  </div>
</section>

<section class="submission-section">
  <div class="form-container">
    <form id="thank-form">
      <label for="location">Where did you attend school? (City, State/Country)</label>
      <input type="text" id="location" name="location" required maxlength="100" placeholder="Example: Philadelphia, PA">

      <label for="message">Thank a Teacher (Max 250 words)</label>
      <textarea id="message" name="message" required maxlength="1500" placeholder="Write your thank you here..."></textarea>

      <button type="submit">Submit</button>
    </form>
  </div>

  <div id="map" class="map-container"></div>
</section>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// Basic soft-themed Leaflet map
const map = L.map('map').setView([39.5, -98.35], 4); // Centered on USA
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);

const form = document.getElementById('thank-form');

form.addEventListener('submit', function(e) {
  e.preventDefault();

  const locationInput = document.getElementById('location').value.trim();
  const messageInput = document.getElementById('message').value.trim();

  if (!locationInput || !messageInput) return;

  fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(locationInput)}`)
    .then(response => response.json())
    .then(data => {
      if (data && data.length > 0) {
        const lat = data[0].lat;
        const lon = data[0].lon;

        const marker = L.marker([lat, lon]).addTo(map);
        marker.bindPopup(`<strong>${locationInput}</strong><br>${messageInput}`);

        form.reset();
        alert('Thank you for sharing your gratitude!');
      } else {
        alert('Location not found. Please check and try again.');
      }
    })
    .catch(error => {
      console.error('Error fetching location:', error);
      alert('An error occurred. Please try again.');
    });
});
</script>

<footer>
  <p>&copy; 2025 Nasharie Stewart | All Rights Reserved</p>
</footer>

</body>
</html>
