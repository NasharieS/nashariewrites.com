<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Transfer Student | Nasharie Writes</title>
  <link rel="stylesheet" href="../css/transfer-student.css" />
  <link rel="icon" type="image/png" href="../images/favicon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Dancing+Script&display=swap" rel="stylesheet">
</head>
<body>

<!-- Sneak Peek Email Popup -->
<div id="sneak-peek-popup" class="popup-overlay" style="display:none;">
  <div class="popup-content">
    <h3>Get a Sneak Peek</h3>
    <p>Enter your email to unlock the first few pages of <em>The Transfer Student</em> and receive updates.</p>
    <form id="email-form">
      <input type="email" name="email" id="popup-email" placeholder="Enter your email" required>
      <button type="submit">Submit</button>
    </form>
    <p id="popup-message"></p>
    <span class="close-popup">&times;</span>
  </div>
</div>

<!-- Right: Book Cover and Sneak Peek Button -->
<div class="book-link" id="book-link-wrapper" style="cursor: pointer;">
  <div class="book-container">
    <div class="book">
      <div class="book-pages">
        <div class="middle-page"></div>
        <div class="middle-page"></div>
        <div class="middle-page"></div>
      </div>
      <div class="book-cover"></div>
    </div>
    <div class="cta-button" id="sneak-peek-button">Take a Sneak Peek</div>
  </div>
</div>

<!-- Header Section -->
<header class="header">
  <a href="../index.html">
    <img src="../images/blanklogo.png" alt="Nasharie Writes Logo" class="header-logo">
  </a>

  <nav class="nav-container">
    <ul>
      <li><a href="../index.html">Home</a></li>
<li class="dropdown">
  <a href="#" onclick="return false;">Works <span class="arrow">▼</span></a>
  <ul class="dropdown-menu">
    <li><a href="../pages/transfer-student.html">The Transfer Student</a></li>
    <li><a href="../pages/works.html#short-stories">Short Stories</a></li>
    <li><a href="works.html#paper-trails">Paper Trails</a></li>
  </ul>
</li>
      <li><a href="../pages/get-involved.html">Get Involved</a></li>
      <li><a href="../pages/contact.html">Contact</a></li>
    </ul>
  </nav>
</header>

<!-- Hero Section -->
<section class="hero">
  <h1 class="title">The Transfer Student</h1>
  <h2 class="one-liner">
    <span>The power to witness the past. The burden of seeing the future.</span>  
    <span>A fight for education she never saw coming.</span>
  </h2>
</section>

<!-- White Section starts here -->
<section class="page-section">
  <main class="synopsis-container">
    <h2 class="page-title">Synopsis</h2>

    <div class="synopsis-content">
      <!-- Left: Synopsis Text -->
      <div class="synopsis-text">
        <p>
          Frustrated by the failing public school system around her, Amara longs for change but feels powerless to create it. 
          At home, she struggles with grief over her father’s death and her mother's abandonment. To make matters worse, for weeks, 
          she has been haunted by nightmares she doesn't understand. Then one morning, she wakes up in the body of a different student 
          in a different country, with a new name, identity, and school awaiting her. Each education system challenges what she thought 
          she knew about opportunity, privilege, and the future—a future she’s beginning to glimpse in terrifying flashes. 
          What Amara does know now is this: the fight for education is bigger than her, and she may be the only one who can change it. 
          But with every answer comes a harder question: What will it cost to make it back home?
        </p>
      </div>

      <!-- Right: Book Cover and Sneak Peek Button -->
<!-- Right: Book Cover and Sneak Peek Button -->
  <div class="book-container">
    <div class="book">
      <div class="book-pages">
        <div class="middle-page"></div>
        <div class="middle-page"></div>
        <div class="middle-page"></div>
      </div>
      <div class="book-cover"></div>
    </div>
  </div>
    </div>
  </main>
</section>

<!-- World Building Section -->
<section class="world-building-section">
  <div class="world-building-container">
    <h2 class="section-title">World Building</h2>
    <p class="world-intro">
      Education systems shape futures—and Amara is about to learn just how different those futures can be. 
      Dive into the global journey of <em>The Transfer Student</em> and explore the cities, schools, and secrets that make up its world.
    </p>
    <div id="earth" style="width: 100%; max-width: 700px; height: 500px; margin: 0 auto; border-radius: 10px;"></div>
  </div>
</section>

<script src="https://unpkg.com/three@0.128.0/build/three.min.js"></script>
<script src="https://unpkg.com/three-globe@2.24.13/dist/three-globe.min.js"></script>
<script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

<script>
window.addEventListener('DOMContentLoaded', () => {
  const container = document.getElementById('earth');

  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  renderer.setSize(container.clientWidth, container.clientHeight);
  renderer.setPixelRatio(window.devicePixelRatio);
  container.appendChild(renderer.domElement);

  const scene = new THREE.Scene();

  const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 2000);
  camera.position.z = 400;

  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableZoom = false;
  controls.autoRotate = true;
  controls.autoRotateSpeed = 0.5;

  const starGeometry = new THREE.SphereGeometry(1000, 64, 64);
  const starTexture = new THREE.TextureLoader().load('https://unpkg.com/three-globe/example/img/night-sky.png');
  const starMaterial = new THREE.MeshBasicMaterial({ map: starTexture, side: THREE.BackSide });
  const starMesh = new THREE.Mesh(starGeometry, starMaterial);
  scene.add(starMesh);

  const globe = new ThreeGlobe()
    .globeImageUrl('https://unpkg.com/three-globe/example/img/earth-dark.jpg')
    .bumpImageUrl('https://unpkg.com/three-globe/example/img/earth-topology.png')
    .pointsData([
      { lat: 39.9526, lng: -75.1652, city: "Philadelphia", school: "Belmont High", characters: ["Amara", "Kai", "Brandon"] },
      { lat: 25.2048, lng: 55.2708, city: "Dubai", school: "The Academy at Dubai Crossing", characters: ["Niko", "Layla"] },
      { lat: 60.1699, lng: 24.9384, city: "Helsinki", school: "Sisu Learning Center", characters: ["Tia"] }
    ])
    .pointAltitude(0.05)
    .pointRadius(0.6)
    .pointColor(() => '#FF5722')
    .onPointClick(d => alert(`${d.city}\n${d.school}\nCharacters: ${d.characters.join(", ")}`));
  scene.add(globe);

  scene.add(new THREE.AmbientLight(0xbbbbbb));
  const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
  directionalLight.position.set(50, 50, 50);
  scene.add(directionalLight);

  function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', () => {
    const width = container.clientWidth;
    const height = container.clientHeight;
    renderer.setSize(width, height);
    camera.aspect = width / height;
    camera.updateProjectionMatrix();
  });
});
</script>


<!-- Quote Section -->
<section class="quote-section">
  <div class="quote-container">
    <blockquote class="featured-quote">
      “I realized I didn’t have the luxury of being quiet or shy. Of shrinking back and making myself smaller... If the world wouldn’t make space for us, I’d carve it myself.”
    </blockquote>
    <cite class="quote-citation">— Chapter 4, <em>The Transfer Student</em></cite>
  </div>
</section>

<!-- Writing Process Section -->
<section class="yellow-section">
  <div class="writing-process-container">
    <h2 class="section-title">Writing Process</h2>

   <!-- Writing Blurb -->
<div class="writing-intro">
  <p><strong>Writing <em>The Transfer Student</em></strong> has been a way to creatively share everything I’ve learned from studying education systems around the world through speculative fiction.<br><br>
  Thanks to the <a href="https://www.obama.org/programs/voyager-scholarship/2023-2025/nasharie-stewart/" target="_blank" style="color:#0077FF; font-weight:bold; text-decoration:none;">Obama-Chesky Voyager Scholarship for Public Service</a>, I traveled to Boston, Dubai, Helsinki, and Tokyo—conducting interviews, visiting schools, and witnessing firsthand the global dimensions of education.<br><br>
  I wanted to make these insights accessible, especially to young students who might see themselves in Amara’s experiences, in <em>The Transfer Student</em>.<br><br>
  I am currently revising my manuscript and preparing to query literary agents in Summer 2025.<br><br>
  <strong>The views expressed are my own and do not reflect the views of the Obama Foundation or its affiliates.</strong>
  </p>
</div>

  <!-- Writing Timeline -->
<div class="timeline">

<div class="timeline-item">
  <div class="timeline-date">February 2024</div>
  <div class="timeline-dot"></div>
  <div class="timeline-content" data-img="../images/education-trust.jpg">Internship at the Ed Trust</div>
</div>

  <div class="timeline-item">
    <div class="timeline-date">March 2024</div>
    <div class="timeline-dot"></div>
    <div class="timeline-content" data-img="../images/department-education.jpg">Internship at the Department of Education (WHI-Hispanics)</div>
  </div>

  <div class="timeline-item">
    <div class="timeline-date">May 30, 2024</div>
    <div class="timeline-dot"></div>
    <div class="timeline-content" data-img="../images/boston.jpg">Landed in Boston</div>
  </div>

  <div class="timeline-item">
    <div class="timeline-date">June 8, 2024</div>
    <div class="timeline-dot"></div>
    <div class="timeline-content" data-img="../images/dubai.jpg">Landed in Dubai</div>
  </div>

  <div class="timeline-item">
    <div class="timeline-date">June 16, 2024</div>
    <div class="timeline-dot"></div>
    <div class="timeline-content" data-img="../images/helsinki.jpg">Landed in Helsinki</div>
  </div>

  <div class="timeline-item">
    <div class="timeline-date">June 23, 2024</div>
    <div class="timeline-dot"></div>
    <div class="timeline-content" data-img="../images/tokyo.jpg">Landed in Tokyo</div>
  </div>

  <div class="timeline-item">
    <div class="timeline-date">July 3, 2024</div>
    <div class="timeline-dot"></div>
    <div class="timeline-content" data-img="../images/writing.jpg">Started writing manuscript</div>
  </div>

<div class="timeline-item">
  <div class="timeline-date">January 2025</div>
  <div class="timeline-dot disabled"></div> <!-- Add 'disabled' class -->
  <div class="timeline-content" data-img="none">Completed first draft</div>
</div>

  <div class="timeline-item">
    <div class="timeline-date">February 2025</div>
    <div class="timeline-dot"></div>
    <div class="timeline-content" data-img="../images/revising.jpg">Revising manuscript</div>
  </div>

<div class="timeline-item">
  <div class="timeline-date">Summer 2025</div>
  <div class="timeline-dot disabled"></div> <!-- Add 'disabled' class -->
  <div class="timeline-content" data-img="none">Preparing to query agents</div>
</div>
</div>
  </div>

  <!-- Audio and Quotes Right -->
  <div class="writing-right">
    <div class="writing-elements">
      <p>[Audio clips and excerpts from interviews coming soon!]</p>
    </div>
  </div>

    </div>
  </div>
</section>

<!-- Timeline Hover Popup (Image Viewer) -->
<div id="timeline-popup">
  <img id="popup-img" src="" alt="Timeline Image" style="max-width:90%; border-radius:8px; margin-bottom:10px;">
  <div id="popup-caption" style="font-size:16px; color:#555;"></div>
</div>

<script>
// Timeline hover effect for popup
const timelineDots = document.querySelectorAll('.timeline-dot');
const popup = document.getElementById('timeline-popup');
const popupImg = document.getElementById('popup-img');
const popupCaption = document.getElementById('popup-caption');

// New variables to track hover state
let activeDot = null;

// Function to show popup
function showPopup(dot) {
  const timelineItem = dot.parentElement;
  const content = timelineItem.querySelector('.timeline-content');
  const imgSrc = content.getAttribute('data-img');

  // Only show popup if the data-img is valid
  if (imgSrc && imgSrc !== "none") {
    popupImg.src = imgSrc;
    popupCaption.innerText = content.innerText;
    popup.classList.add('active');
    popup.style.display = 'block';
  }
}

// Function to hide popup
function hidePopup() {
  popup.classList.remove('active');
  setTimeout(() => {
    popup.style.display = 'none';
  }, 300);
}

// Listen for mouseenter and mouseleave
timelineDots.forEach(dot => {
  dot.addEventListener('mouseenter', () => {
    const content = dot.parentElement.querySelector('.timeline-content');
    const imgSrc = content.getAttribute('data-img');
    if (imgSrc && imgSrc !== "none") {
      activeDot = dot;
      showPopup(dot);
    }
  });

  dot.addEventListener('mouseleave', () => {
    activeDot = null;
    hidePopup();
  });
});

// New: Listen for mousemove on document
document.addEventListener('mousemove', (e) => {
  if (!activeDot) return; // Only care if hovering over valid dot

  const rect = activeDot.getBoundingClientRect();
  const inDot = (
    e.clientX >= rect.left &&
    e.clientX <= rect.right &&
    e.clientY >= rect.top &&
    e.clientY <= rect.bottom
  );

  if (inDot) {
    showPopup(activeDot);
  } else {
    activeDot = null;
    hidePopup();
  }
});
</script>

<!-- Footer -->
<footer>
  <p>&copy; 2025 Nasharie Stewart | All Rights Reserved</p>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const popup = document.getElementById('sneak-peek-popup');
  const popupMessage = document.getElementById('popup-message');
  const closeBtn = document.querySelector('.close-popup');
  const form = document.getElementById('email-form');
  const bookLink = document.getElementById('book-link-wrapper');

  function hashEmail(email) {
    const encoder = new TextEncoder();
    const data = encoder.encode(email);
    return crypto.subtle.digest('SHA-256', data).then(buffer => {
      return [...new Uint8Array(buffer)].map(b => b.toString(16).padStart(2, '0')).join('');
    });
  }

  function showPopupIfNotSubscribed() {
    if (!localStorage.getItem('subscribed_hash')) {
      popup.style.display = 'flex';
    } else {
      window.location.href = '../pages/sneak-peek.html';
    }
  }

  if (bookLink) {
    bookLink.addEventListener('click', function (e) {
      e.preventDefault();
      showPopupIfNotSubscribed();
    });
  }

  if (closeBtn) {
    closeBtn.addEventListener('click', function () {
      popup.style.display = 'none';
    });
  }

  if (form) {
    form.addEventListener('submit', function (e) {
      e.preventDefault();
      const email = document.getElementById('popup-email').value;
      hashEmail(email).then(hash => {
        localStorage.setItem('subscribed_hash', hash);

        fetch('https://script.google.com/macros/s/AKfycbxMOm9TyrRQYn5lpX4kqzHiTLsWgySCOEl3rG_8VAJkMdyqG3OMV84d5T7zzJ8z-yRf/exec', {
          method: 'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          body: new URLSearchParams({ email })
        })
        .then(response => response.text())
        .then(responseText => {
          if (responseText.includes('duplicate')) {
            popupMessage.textContent = "Thank you, you've already subscribed.";
          } else {
            popupMessage.textContent = "Thank you! Here's your sneak peek.";
            setTimeout(() => {
              window.location.href = '../pages/sneak-peek.html';
            }, 1500);
          }
          popupMessage.style.color = 'green';
        })
        .catch(() => {
          popupMessage.textContent = "Error. Please try again.";
          popupMessage.style.color = 'red';
        });
      });
    });
  }
});
</script>

</body>
</html>
